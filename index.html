<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-N6ECMRFLKT"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-N6ECMRFLKT');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página de Inicio</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            width: 100vw; min-height: 100vh; display: flex; align-items: center; justify-content: center;
            background: linear-gradient(135deg, #0e0e0e, #000000);
            font-family: 'Inter', Arial, sans-serif; color: white; padding: 20px;
        }
        
        /* Lógica de carga */
        #loader-container {
            display: flex; justify-content: center; align-items: center;
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: #0e0e0e; z-index: 9999;
        }
        .main-content {
            display: none; flex-direction: column; align-items: center; justify-content: center; 
            width: 100%; max-width: 1400px; text-align: center; 
        }
        .loader { width: 48px; height: 48px; border: 5px solid #FFF; border-bottom-color: transparent; border-radius: 50%; display: inline-block; box-sizing: border-box; animation: rotation 1s linear infinite; }
        @keyframes rotation { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* Eliminado: #auth-container y #google-signin-btn */
        
        #user-info { display: flex; align-items: center; justify-content: space-between; width: 100%; }
        .user-details { display: flex; align-items: center; gap: 12px; }
        #user-info img { width: 36px; height: 36px; border-radius: 50%; }
        #user-name { font-weight: bold; }
        /* Eliminado: #signout-btn ya que no hay inicio de sesión */
        
        #dashboard { display: grid; width: 100%; grid-template-columns: 1fr; gap: 20px; align-items: start; }
        #search-sidebar { padding: 20px; background: rgba(255, 255, 255, 0.05); border-radius: 10px; border: 1px solid rgba(255, 255, 255, 0.1); display: flex; flex-direction: column; gap: 25px; }
        .search-form h3 { margin-bottom: 15px; font-size: 18px; color: #eee; text-align: left; }
        .search-input-wrapper { position: relative; }
        .search-input { width: 100%; padding: 12px 15px 12px 40px; background-color: rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; color: white; font-size: 16px; }
        .search-input:focus { outline: none; border-color: #4285F4; }
        .search-input-wrapper svg { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); width: 20px; height: 20px; fill: #aaa; }
        
        #gemini-response-area { margin-top: 10px; text-align: left; background-color: rgba(0, 0, 0, 0.2); border-radius: 8px; padding: 15px; min-height: 50px; font-size: 14px; line-height: 1.6; white-space: pre-wrap; word-wrap: break-word; }
        
        .shortcuts-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 15px; width: 100%; }
        .shortcut {
            background: rgba(255, 255, 255, 0.08); border-radius: 10px; padding: 15px;
            transition: transform 0.3s, background 0.3s;
            display: flex; flex-direction: column;
            justify-content: center; 
            align-items: center;
            aspect-ratio: 1 / 0.8; border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .shortcut:hover { background: rgba(255, 255, 255, 0.15); transform: translateY(-5px); }

        .shortcut a { text-decoration: none; color: white; display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%; height: 100%; }
        .shortcut span { font-size: 12px; font-weight: normal; color: #ccc; margin-top: 4px; }
        
        .shortcut.has-micro-buttons {
            justify-content: space-between; 
            align-items: center;
            cursor: pointer; /* AÑADIDO: Indica que toda la tarjeta es clickable */
        }
        
        .shortcut-main-content { font-size: 14px; font-weight: bold; text-align: center; }
        
        .micro-buttons-container {
            display: flex;
            gap: 8px;
            margin-top: 10px;
            justify-content: center;
        }
        .micro-button {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            padding: 5px 8px;
            font-size: 11px;
            font-weight: bold;
            transition: background-color 0.2s;
            color: white;
            text-decoration: none;
            z-index: 2; /* AÑADIDO: Asegura que el micro-botón esté por encima */
            position: relative; /* AÑADIDO: Requerido para que z-index funcione */
        }
        .micro-button:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        @media (min-width: 992px) { #dashboard { grid-template-columns: 380px 1fr; } }
    </style>
</head>
<body>
    
    <div id="loader-container">
        <div class="loader"></div>
    </div>

    <div class="main-content">
        <div id="dashboard">
            <div id="search-sidebar">
                <form class="search-form" action="https://www.google.com/search" method="get" target="_blank">
                    <h3>Búsqueda de Google</h3>
                    <div class="search-input-wrapper">
                           <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"></path></svg>
                        <input type="text" name="q" id="google-search-input" class="search-input" placeholder="Buscar en Google..." required>
                    </div>
                </form>
                <form id="gemini-search-form" class="search-form">
                    <h3>Chat con Gemini</h3>
                    <div class="search-input-wrapper">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm-1.5 19a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM19.5 10.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm-15-2.25a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z M16.65 6.4a1.5 1.5 0 1 1-2.121-2.122 1.5 1.5 0 0 1 2.121 2.122ZM7.35 17.6a1.5 1.5 0 1 0-2.121 2.121 1.5 1.5 0 0 0 2.121-2.121Z"></path><path d="M12.44 8.35a1.5 1.5 0 1 1-2.122-2.122A1.5 1.5 0 0 1 12.44 8.35ZM8.35 12.44a1.5 1.5 0 1 0-2.122 2.121 1.5 1.5 0 0 0 2.122-2.121Z"></path></svg>
                        <input type="text" id="gemini-search-input" class="search-input" placeholder="Preguntar a Gemini..." required>
                    </div>
                </form>
                <div id="gemini-response-area"></div>
            </div>
            
            <div class="shortcuts-container" id="shortcuts">
                <div class="shortcut"><a href="https://gemini.google.com/u/0/app">GOOGLE<br><span>Gemini</span></a></div>
                <div class="shortcut"><a href="https://aistudio.google.com/library">GOOGLE<br><span>AIstudio</span></a></div>
                <div class="shortcut"><a href="https://youtube.com">GOOGLE<br><span>YouTube</span></a></div>
                <div class="shortcut"><a href="https://drive.google.com/drive/recent">GOOGLE<br><span>Drive</span></a></div>
                <div class="shortcut"><a href="https://keep.google.com/">GOOGLE<br><span>Keep</span></a></div>
                <div class="shortcut"><a href="https://mail.google.com/mail/u/0/#inbox">GOOGLE<br><span>Gmail</span></a></div>
                
                <div class="shortcut"><a href="https://github.com/sadekyamil?tab=repositories">GITHUB<br><span>/sadekyamil</span></a></div>

                <div class="shortcut has-micro-buttons" onclick="window.open('https://github.com/sadekyamil/sadekyamil.github.io', '_blank');">
                    <div class="shortcut-main-content">GITHUB<br><span>the23.pages.dev</span></div>
                    <div class="micro-buttons-container">
                        <a href="https://github.dev/sadekyamil/sadekyamil.github.io" target="_blank" class="micro-button" onclick="event.stopPropagation();">Editar</a>
                    </div>
                </div>

                <div class="shortcut has-micro-buttons" onclick="window.open('https://github.com/sadekyamil/asesoria-page---bigoteman', '_blank');">
                    <div class="shortcut-main-content">GITHUB<br><span>:) P.Asesoria :)</span></div>
                    <div class="micro-buttons-container">
                        <a href="https://github.dev/sadekyamil/asesoria-page---bigoteman" target="_blank" class="micro-button" onclick="event.stopPropagation();">Editar</a>
                    </div>
                </div>

                <div class="shortcut has-micro-buttons" onclick="window.open('https://github.com/sadekyamil/landing-page---bigoteman', '_blank');">
                    <div class="shortcut-main-content">GITHUB<br><span>:) P.Venta :)</span></div>
                    <div class="micro-buttons-container">
                        <a href="https://github.dev/sadekyamil/landing-page---bigoteman" target="_blank" class="micro-button" onclick="event.stopPropagation();">Editar</a>
                    </div>
                </div>

                <div class="shortcut has-micro-buttons" onclick="window.open('https://github.com/sadeknifuri/ladingpage', '_blank');">
                    <div class="shortcut-main-content">GITHUB<br><span>fakeBigote</span></div>
                    <div class="micro-buttons-container">
                        <a href="https://github.dev/sadeknifuri/ladingpage" target="_blank" class="micro-button" onclick="event.stopPropagation();">Editar</a>
                    </div>
                </div>
                
                <div class="shortcut"><a href="https://github.com/sadekyamil/clase-innovacion">Innovación<br><span>(Repo Clase)</span></a></div>

                <div class="shortcut"><a href="https://dash.cloudflare.com/c1858a93e7246c885d0a6d4f73f2b7a3/workers-and-pages?type=pages&sortBy=name">CLOUDFLARE<br><span>pages</span></a></div>
                <div class="shortcut"><a href="https://us-east-2.console.aws.amazon.com/apigateway/main/apis?region=us-east-2">AMAZON<br><span>API Gateway</span></a></div>
                <div class="shortcut"><a href="https://us-east-2.console.aws.amazon.com/lambda/home?region=us-east-2#/discover">AMAZON<br><span>Lambda</span></a></div>
                <div class="shortcut"><a href="https://us-east-2.console.aws.amazon.com/dynamodbv2/home?region=us-east-2#dashboard">AMAZON<br><span>DinamoDB</span></a></div>
                <div class="shortcut"><a href="https://idx.google.com/">FIREBASE-STUDIO<br><span>html</span></a></div>
                <div class="shortcut"><a href="https://console.firebase.google.com/">FIREBASE-console<br><span>mi pagina de inicio</span></a></div>
                <div class="shortcut"><a href="https://imgto.xyz/">imgto.xyz</a></div>
                <div class="shortcut"><a href="https://www.photopea.com/">Photopea</a></div>
                <div class="shortcut"><a href="https://experienciavivo.duoc.cl/alumnos" >vivoDUOC</a></div>
                <div class="shortcut"><a href="https://es.finance.yahoo.com/">mercado pago</a></div>
                <div class="shortcut"><a href="https://transferencias.global66.com/signin?redirect=%2Fhome">global66</a></div>
                <div class="shortcut"><a href="https://platform.nexo.com/">Wise</a></div>
            </div>
        </div>
    </div>

    <script type="module">
        // La API Key de Gemini se mantiene ya que el chat con Gemini no depende de la autenticación de Firebase
        const GEMINI_API_KEY = "AIzaSyAYFlGIi0PNfeklqW3eQ1xV6Hqz0wbTMnU"; 

        const loaderContainer = document.getElementById('loader-container');
        const mainContent = document.querySelector('.main-content');
        const googleSearchInput = document.getElementById('google-search-input');
        
        // Simplemente ocultamos el loader y mostramos el contenido principal al cargar la página.
        // No hay necesidad de esperar por el estado de autenticación.
        window.addEventListener('load', () => {
            loaderContainer.style.display = 'none';
            mainContent.style.display = 'flex';
            googleSearchInput.focus();
        });

        const geminiForm = document.getElementById('gemini-search-form');
        const geminiInput = document.getElementById('gemini-search-input');
        const geminiResponseArea = document.getElementById('gemini-response-area');

        geminiForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const query = geminiInput.value.trim();
            if (!query) return;
            
            const loaderHTML = '<div class="loader" style="width: 20px; height: 20px; border-width: 3px;"></div>';
            geminiResponseArea.innerHTML = loaderHTML;
            geminiInput.value = '';

            try {
                const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`;
                const requestBody = { contents: [{ parts: [{ text: query }] }] };
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(requestBody)
                });

                const data = await response.json();

                if (!response.ok) {
                    throw new Error(data.error.message || `Error de red: ${response.statusText}`);
                }
                
                if (data.candidates && data.candidates.length > 0) {
                    geminiResponseArea.innerText = data.candidates[0].content.parts[0].text;
                } else if (data.promptFeedback) {
                    geminiResponseArea.innerText = "La pregunta fue bloqueada por razones de seguridad. Intenta con otra pregunta.";
                } else {
                    geminiResponseArea.innerText = "No se recibió una respuesta válida de Gemini.";
                }

            } catch (error) {
                console.error('Error al contactar la API de Gemini:', error);
                geminiResponseArea.innerText = `Ocurrió un error: ${error.message}`;
            }
        });
    </script>
</body>
</html>
